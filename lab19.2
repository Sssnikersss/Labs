#define _CRT_SECURE_NO_DEPRECATE
#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <string.h>


int main(void) {
	setlocale(LC_ALL, "RUS");

	/*//1:
	int element;
	char fname[20] = "number.txt";
	FILE* out;
	puts("Создание файла");
	if ((out = fopen(fname, "a")) == NULL) {
		printf("Ошибка открытия файла для записи\n");
		return 0;
	}

	//fprintf(out, "%d\n", 5);
	//fprintf(out, "%0.2f\n", 12.56);
	printf("Введите число, которое нужно записать в файл: ");
	scanf("%d", &element);
	fprintf(out, "%d\n", element);
	fclose(out);*/

	
	
	int k;
	int menu;
	int l = 0;
	int cycle = 1;
	while (cycle == 1) {
		printf("\t  Меню.\n");
		printf("1. Запись в новый файл.\n");
		printf("2. Дозапись в существующий.\n");
		printf("Введите номер пункта меню: ");
		scanf("%d", &menu);
		printf("\n");

		switch (menu) {
		case 1:
			char fname3[20] = "new.txt";
			FILE* new;
			if ((new = fopen(fname3, "w")) == NULL) {
				printf("Ошибка открытия файла для записи\n");
				return 0;
			}
			printf("Введите количество элементов в файле: ");
			scanf("%d", &l);
			for (int i = 0; i < l; i++) {
				fprintf(new, "%d\n", ((rand() % 201) - 100));
			}
			fclose(new);
			break;
		case 2:
			char fname2[20] = "temp.txt";
			FILE* fp;
			if ((fp = fopen(fname2, "a")) == NULL) {
				printf("Ошибка открытия файла для записи\n");
				return 0;
			}
			printf("Введите количество элементов в файле: ");
			scanf("%d", &l);
			for (int i = 0; i < l; i++) {
				fprintf(fp, "%d\n", ((rand() % 201) - 100));
			}
			fclose(fp);
			break;
		default:
			printf("Неизвестная команда\n");
			break;
		}
		printf("Продолжить работу?(1 - да, 2 - нет): ");
		scanf("%d", &cycle);
		printf("\n");
	}

	return 1;
}
