#define _CRT_SECURE_NO_DEPRECATE
#include <stdio.h>
#include <locale.h>


int square(int b, int c, int h);
void name();
int figure(int b, int c, int h);

void main() {
	setlocale(LC_ALL, "RUS");
	char c1;
	int i, b, c, h, a;

	while (1) {
		char q;
		printf("Выберите одну из операций:\n");
		printf("1)Рассчитать площадь;\n");
		printf("2)Вывести определение фигуры;\n");
		printf("3)Нарисовать фигуру.\n");
		scanf("%d", &i);
		putchar('\n');
		if (i == 1) {
			printf("Введите меньшее основание b, большее основание c и высоту р/б трапеции через пробел:");
			scanf("%d %d %d", &b, &c, &h);
			getchar();
			square(b, c, h);

		}
		else if (i == 2) name();
		else if (i == 3) {
			printf("Введите символ, из которого будет состоять фигура:");
			scanf("%c", &c1);
			getchar();
			printf("Введите меньшее основание b, большее основание c и высоту р/б трапеции через пробел:");
			scanf("%d %d %d", &b, &c, &h);
			getchar();
			figure(c1, b, c, h);
		}
		else printf("Неизвестная операция. Повторите попытку.\n\n");
		printf("Продолжить? (Да - введите любое число, нет - введите 0)");
		getchar();
		if ((q = getchar()) == '0') break;
		getchar();
		putchar('\n');
	}
}

//1:
int square(int b, int c, int h) {
	int res = (c + b) / 2 * h;
	printf("Площадь равнобедренной трапеции равна %d\n", res);
}
//2:
void name() {
	printf("Равнобедренная трапеция - это выпуклый четырёхугольник с осью симметрии,\nпроходящей через середины двух противоположных сторон.\nЭтот четырёхугольник является частным случаем трапеций.\nВ любой равнобедренной трапеции две противоположные стороны параллельны,\nа две другие стороны имеют одинаковые длины.\nДиагонали также имеют одинаковые длины.\nУглы при каждом основании равны и углы при разных основаниях являются смежными.\n");
}
//3:
int figure(char c1, int b, int c, int h) {
	int a;
	printf("Пустая трапеция внутри:\n\n");
	a = (c - b) / 2;                     //Для того чтобы фигура корректно отображалась, ОБЯЗАТЕЛЬНО должно выполняться соотношение:                       
	for (int j = 1; j <= c; j++) {       //(c - b) / 2 + 1 = h
		if ((j > a) && (j <= (c - a)))
			putchar(c1);
		else
			putchar(' ');
	}
	putchar('\n');
	for (int i = 2; i < h; i++) {
		for (int j = 1; j <= c; j++) {
			if ((j == (a + 2 - i)) || (j == (a - 1 + b + i)))
				putchar(c1);
			else
				putchar(' ');
		}
		putchar('\n');
	}
	for (int j = 1; j <= c; j++)
		putchar(c1);
	putchar('\n\n');
	b = 0, c = 0, h = 0, a = 0;
}
